"use strict";angular.module("commonsCloudAdminApp",["ivpusic.cookie","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/authorize",{templateUrl:"views/authorize.html",controller:"AuthorizeCtrl"}).when("/applications",{templateUrl:"views/applications.html",controller:"ApplicationsCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0).hashPrefix("!")}]).run(["$http","ipCookie",function(a,b){a.defaults.headers.common.Authorization="Bearer "+b("session"),a.defaults.headers.common["Content-Type"]="application/json"}]),angular.module("commonsCloudAdminApp").controller("MainCtrl",["$rootScope","$scope",function(){}]),angular.module("commonsCloudAdminApp").controller("AuthorizeCtrl",["$scope","$rootScope","$location","ipCookie",function(a,b,c,d){a.getAccessToken=function(){var a=c.hash(),e=a.substring(0,a.indexOf("&")),f=e.replace("access_token=",""),g={expires:2};return b.authenticated=!0,d("session",f,g)},a.getAccessToken(),c.hash(""),c.path("/")}]),angular.module("commonsCloudAdminApp").factory("Auth",["$rootScope","$q","$http","ipCookie",function(a,b,c,d){return a.auth={is_authenticated:!1},d("session")&&(a.auth.is_authenticated=!0,c.defaults.headers.common.Authorization="Bearer "+d("session"),c.defaults.headers.common["Content-Type"]="application/json"),{}}]),angular.module("commonsCloudAdminApp").controller("ApplicationsCtrl",["$scope","$http","$resource",function(a,b){console.log(b.defaults.headers),b.get("http://api.commonscloud.org/v2/applications.json").success(function(a,b,c,d){console.log("SUCCESS: ",a,b,c,d)}).error(function(a,b,c,d){console.log("ERROR: ",a,b,c,d)})}]),angular.module("commonsCloudAdminApp").factory("CommonsCloudAPI",["$http",function(){return{getApplications:function(){return!0}}}]);