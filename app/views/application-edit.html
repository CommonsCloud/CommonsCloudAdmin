<div class="row">

  <section class="col-xs-12 col-sm-12 page-content">

    <div class="inner wide">
      <div class="row">
        <div class="col-xs-12">
          <header class="application-header row" data-ng-include="'/views/includes/header.html'"></header>

          <article class="application single template-nested">
            <!-- Alerts -->
            <div data-ng-if="alerts" data-ng-include="'/views/includes/alerts.html'"></div>

            <div class="row">
              <div class="col-sm-12">
                <form method="PUT" class="form-narrow" name="form" id="form">
                  <div class="form-group">
                    <label class="control-label" for="name">Application Name</label>
                    <input type="text" id="name" name="name" class="form-control input-lg" data-ng-model="application.name" value="{{ application.name }}" required="required" />
                    <p class="help-block error-message" data-ng-show="!form.name.$pristine && form.name.$invalid && form.name.$error">Application names cannot exceed 255 characters total</p>
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="description">Description</label>
                    <textarea msd-elastic rows="1" id="description" name="description" class="form-control" data-ng-model="application.description" placeholder="Description" data-ng-maxlength="255">{{ application.description }}</textarea>
                    <p class="help-block error-message" data-ng-show="form.description.$invalid">Application descriptions cannot exceed 255 characters total</p>
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="url">URL</label>
                    <input type="url" id="url" name="url" class="form-control" data-ng-model="application.url" placeholder="http://" value="{{ application.url }}" />
                    <p class="help-block error-message" data-ng-show="form.url.$invalid">Please enter a valid URL, making sure you include http:// at the beginning</p>
                  </div>
                  <hr />
                  <div class="form-group">
                    <a href="javascript:void()" data-ng-show="!remove_confirmation" data-ng-click="remove_confirmation=true" class="btn btn-link pull-left">Delete Application</a>
                    <div data-ng-show="remove_confirmation || really_sure" class="row">
                      <div class="col-xs-12">
                        <div class="row alerts">
                          <div class="col-sm-12">
                            <p class="alert alert-danger" data-ng-show="!really_sure">
                              If you choose to delete this application you'll be deleting all associated Templates, Features, and Attachments. All iOS, Android, HTML or other web applications using this data model will instantly stop working. This action cannot be undone, are you sure you want to delete this Application? <br /><br />
                              <span class="text-center"><a class="btn btn-xs btn-link" data-ng-click="remove_confirmation=false;">Nevermind</a> <em>or</em> <a class="btn btn-xs btn-danger" data-ng-click="really_sure=true">Permanently remove</a></span>
                            </p>
                            <div class="alert alert-danger row text-center" data-ng-show="really_sure">
                              <p>Type the word DELETE to permanently remove this Application</p>
                              <div class="col-sm-6 col-sm-offset-3">
                                <input type="text" placeholder="Type DELETE here" class="form-control input-lg" data-ng-model="delete_this_application" id="delete_this_application" name="delete_this_application" />
                              </div>
                            </div>
                            <div class="row" data-ng-show="really_sure">
                              <div class="col-sm-12">
                                <a class="btn btn-xs btn-link" data-ng-click="remove_confirmation=false;">Nevermind</a>
                                <a data-ng-if="delete_this_application==='DELETE'" class="btn btn-xs btn-danger pull-right" data-ng-click="DeleteApplication(application)">Permanently remove</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <input data-ng-show="!remove_confirmation" data-ng-click="UpdateApplication(application)" id="update" name="update" type="submit" class="button pull-right" value="Update Application" />
                  </div>
                </form>
              </div>
            </div>
          </article>

        </div>
      </div>
    </div>
  </section>
</div>

<div data-ng-include="'/views/includes/footer.html'"></div>